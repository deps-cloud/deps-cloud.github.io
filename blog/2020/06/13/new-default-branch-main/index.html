<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.69.1" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>New default branch: main | deps.cloud</title><meta property="og:title" content="New default branch: main" />
<meta property="og:description" content="The term &lsquo;master&rsquo; is used heavily across the technical community. It&rsquo;s used to represent primary instances in a database, branches in repositories, and so much more. But this term is also associated with racism, oppression, violence, and hate.
To help show our support for the black community, the default branch has been renamed to main. While this is one small change in one project, we hope that many others follow suit." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://deps.cloud/blog/2020/06/13/new-default-branch-main/" />
<meta property="article:published_time" content="2020-06-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-10-16T08:56:54-05:00" /><meta property="og:site_name" content="deps.cloud" />
<meta itemprop="name" content="New default branch: main">
<meta itemprop="description" content="The term &lsquo;master&rsquo; is used heavily across the technical community. It&rsquo;s used to represent primary instances in a database, branches in repositories, and so much more. But this term is also associated with racism, oppression, violence, and hate.
To help show our support for the black community, the default branch has been renamed to main. While this is one small change in one project, we hope that many others follow suit.">
<meta itemprop="datePublished" content="2020-06-13T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-10-16T08:56:54-05:00" />
<meta itemprop="wordCount" content="392">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="New default branch: main"/>
<meta name="twitter:description" content="The term &lsquo;master&rsquo; is used heavily across the technical community. It&rsquo;s used to represent primary instances in a database, branches in repositories, and so much more. But this term is also associated with racism, oppression, violence, and hate.
To help show our support for the black community, the default branch has been renamed to main. While this is one small change in one project, we hope that many others follow suit."/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-143087272-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






<link rel="preload" href="/scss/main.min.167dce54bee4883e8ff5d621104dbd03a169e54778ac6138a994a302446371c6.css" as="style">
<link href="/scss/main.min.167dce54bee4883e8ff5d621104dbd03a169e54778ac6138a994a302446371c6.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>


  </head>
  <body class="td-page td-blog">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo">
			<img style="max-height: 35px;" src="/images/depscloud-1.png"/>
		</span>
		<span class="text-lowercase" style="vertical-align: bottom; font-weight: bold;">
			deps.cloud
		</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/blog/" ><span class="active">Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/docs/" ><span>Documentation</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"></div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none"></div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5 pr-md-4" role="main">
            <a class="btn btn-lg -bg-primary td-rss-button d-none d-lg-block" href="https://deps.cloud/blog/index.xml" target="_blank">
              RSS <i class="fa fa-rss ml-2 "></i>
            </a>
            
<div>
  <p><a href="/blog/">&lt; Back to Blog</a></p>
</div>

<div style="max-width:900px;">
  <h1>New default branch: main</h1>
  
  <div class="td-byline mb-4">
    By <b>Mya Pitzeruse</b> |
    <time datetime="2020-06-13" class="text-muted">Saturday, June 13, 2020</time>
  </div>
  <p>The term &lsquo;master&rsquo; is used heavily across the technical community.
It&rsquo;s used to represent primary instances in a database, branches in repositories, and so much more.
But this term is also associated with racism, oppression, violence, and hate.</p>
<p>To help show our support for the black community, the default branch has been renamed to <code>main</code>.
While this is one small change in one project, we hope that many others follow suit.</p>
<p>If you are contemplating making a similar change, it was easy to do with some shell scripting.
The deps.cloud projects took about 30 minutes to migrate, including content auditing.
You can follow along with the snippet below as it was used to move the deps.cloud ecosystem.
While this script is specific to GitHub, it should be easy to modify for other systems.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#8f5902;font-style:italic"># setup credentials for the api</span>

<span style="color:#204a87">export</span> <span style="color:#000">GITHUB_AUTHORIZATION</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;token OAUTH-TOKEN&#34;</span>
<span style="color:#204a87">export</span> <span style="color:#000">GITHUB_GROUP</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;depscloud&#34;</span>
<span style="color:#204a87">export</span> <span style="color:#000">BRANCH_NAME</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;main&#34;</span>

<span style="color:#8f5902;font-style:italic"># start with a fresh copy of your code (just to be safe)</span>

curl -sSL -H <span style="color:#4e9a06">&#34;Authorization: </span><span style="color:#4e9a06">${</span><span style="color:#000">GITHUB_AUTHORIZATION</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">&#34;</span> https://api.github.com/users/<span style="color:#4e9a06">${</span><span style="color:#000">GITHUB_GROUP</span><span style="color:#4e9a06">}</span>/repos <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    jq -r .<span style="color:#ce5c00;font-weight:bold">[]</span>.ssh_url <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs -I<span style="color:#ce5c00;font-weight:bold">{}</span> git clone <span style="color:#ce5c00;font-weight:bold">{}</span>

<span style="color:#8f5902;font-style:italic"># checkout a new branch and push it</span>

find . -maxdepth <span style="color:#0000cf;font-weight:bold">2</span> -name .git <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs dirname <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs -I<span style="color:#ce5c00;font-weight:bold">{}</span> git --git-dir<span style="color:#ce5c00;font-weight:bold">={}</span>/.git --work-tree<span style="color:#ce5c00;font-weight:bold">={}</span> checkout -b <span style="color:#4e9a06">${</span><span style="color:#000">BRANCH_NAME</span><span style="color:#4e9a06">}</span>

find . -maxdepth <span style="color:#0000cf;font-weight:bold">2</span> -name .git <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs dirname <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs -I<span style="color:#ce5c00;font-weight:bold">{}</span> git --git-dir<span style="color:#ce5c00;font-weight:bold">={}</span>/.git --work-tree<span style="color:#ce5c00;font-weight:bold">={}</span> push -u origin <span style="color:#4e9a06">${</span><span style="color:#000">BRANCH_NAME</span><span style="color:#4e9a06">}</span>

<span style="color:#8f5902;font-style:italic"># update the default branch</span>

find . -maxdepth <span style="color:#0000cf;font-weight:bold">2</span> -name .git <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs dirname <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs basename -a <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs -I<span style="color:#ce5c00;font-weight:bold">{}</span> <span style="color:#204a87">echo</span> https://api.github.com/repos/<span style="color:#4e9a06">${</span><span style="color:#000">GITHUB_GROUP</span><span style="color:#4e9a06">}</span>/<span style="color:#ce5c00;font-weight:bold">{}</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs -I<span style="color:#ce5c00;font-weight:bold">{}</span> curl <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>        -X PATCH <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>        -H <span style="color:#4e9a06">&#34;Content-Type: application/json&#34;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>        -H <span style="color:#4e9a06">&#34;Authorization: </span><span style="color:#4e9a06">${</span><span style="color:#000">GITHUB_AUTHORIZATION</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">&#34;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>        -d <span style="color:#4e9a06">&#34;{\&#34;default_branch\&#34;: \&#34;</span><span style="color:#4e9a06">${</span><span style="color:#000">BRANCH_NAME</span><span style="color:#4e9a06">}</span><span style="color:#4e9a06">\&#34;}&#34;</span> <span style="color:#ce5c00;font-weight:bold">{}</span>

<span style="color:#8f5902;font-style:italic">##</span>
<span style="color:#8f5902;font-style:italic">## Congratulations!</span>
<span style="color:#8f5902;font-style:italic">##</span>
<span style="color:#8f5902;font-style:italic">## You&#39;ve gotten to the point where active development should no longer be against master.</span>
<span style="color:#8f5902;font-style:italic">## Now, you don&#39;t want to go and delete it quite yet as you might have some external links pointing to the branch.</span>
<span style="color:#8f5902;font-style:italic">## You&#39;ll want to make sure you do an audit of your projects content, badges, and workflows.</span>
<span style="color:#8f5902;font-style:italic">## Once you&#39;ve verified all the references have been updated, you&#39;ll be able to proceed on.</span>
<span style="color:#8f5902;font-style:italic">##</span>
<span style="color:#8f5902;font-style:italic">## Notes:</span>
<span style="color:#8f5902;font-style:italic">## * Some system may require making some additional changes (like setting up protected branches).</span>
<span style="color:#8f5902;font-style:italic">##</span>

<span style="color:#8f5902;font-style:italic"># delete the master branch</span>

find . -maxdepth <span style="color:#0000cf;font-weight:bold">2</span> -name .git <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs dirname <span style="color:#000;font-weight:bold">|</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    xargs -I<span style="color:#ce5c00;font-weight:bold">{}</span> git --git-dir<span style="color:#ce5c00;font-weight:bold">={}</span>/.git --work-tree<span style="color:#ce5c00;font-weight:bold">={}</span> push origin :master
</code></pre></div>
  

  <div class="clearfix mb-0 pt-5" style="color:white;">
  
  <span style="float:left;">
    <a href="/blog/2020/06/06/introducing-the-deps.cloud-blog/" ><span class="mr-1">←</span> Previous</a>
  </span>
  

  
  <span style="float:right;">
    <a href="/blog/2020/07/03/user-facing-grpc-services/">Next <span class="ml-1">→</span></a>
  </span>
  
</div>

<ul class="list-unstyled  justify-content-between align-items-center " style="color: white !important;">

</ul>

</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark text-white py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing List" aria-label="User mailing List">
    <a class="text-white" target="_blank" href="https://groups.google.com/a/deps.cloud/forum/#!forum/community/join">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://join.slack.com/t/depscloud/shared_invite/zt-fd03dm8x-L5Vxh07smWr_vlK9Qg9q5A">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://twitter.com/depscloud">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
</ul>

        
        
        <div class="font-italic">for everyone</div>
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/depscloud/">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing List" aria-label="Developer mailing List">
    <a class="text-white" target="_blank" href="https://groups.google.com/a/deps.cloud/forum/#!forum/community/join">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
        <div class="font-italic">for developers</div>
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small>&copy; 2020 deps.cloud Authors All Rights Reserved</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>







<script src="/js/main.min.081ca07dfce40dc53745651a91e7a6429571b641c87cb0a059f8cfc3443882af.js" integrity="sha256-CBygffzkDcU3RWUakeemQpVxtkHIfLCgWfjPw0Q4gq8=" crossorigin="anonymous"></script>



  </body>
</html>
