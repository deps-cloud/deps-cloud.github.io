<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.69.1" />

<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">



<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Architecture | deps.cloud</title><meta property="og:title" content="Architecture" />
<meta property="og:description" content="This page serves as documentation of the open source architecture for the deps.cloud system.
Overview While there are several components that make up the ecosystem, each of them serve their own purpose.
Components Gateway is the face of the API services. It provides a RESTful HTTP interface to the backing gRPC services. See the gateway docs for more information.
Tracker provides several APIs for navigating the graph of information. This service leverages other storage systems such as SQLite or MySQL to store the graph data." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://deps.cloud/docs/architecture/" />
<meta property="article:modified_time" content="2020-08-02T22:04:02-05:00" /><meta property="og:site_name" content="deps.cloud" />
<meta itemprop="name" content="Architecture">
<meta itemprop="description" content="This page serves as documentation of the open source architecture for the deps.cloud system.
Overview While there are several components that make up the ecosystem, each of them serve their own purpose.
Components Gateway is the face of the API services. It provides a RESTful HTTP interface to the backing gRPC services. See the gateway docs for more information.
Tracker provides several APIs for navigating the graph of information. This service leverages other storage systems such as SQLite or MySQL to store the graph data.">
<meta itemprop="dateModified" content="2020-08-02T22:04:02-05:00" />
<meta itemprop="wordCount" content="456">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Architecture"/>
<meta name="twitter:description" content="This page serves as documentation of the open source architecture for the deps.cloud system.
Overview While there are several components that make up the ecosystem, each of them serve their own purpose.
Components Gateway is the face of the API services. It provides a RESTful HTTP interface to the backing gRPC services. See the gateway docs for more information.
Tracker provides several APIs for navigating the graph of information. This service leverages other storage systems such as SQLite or MySQL to store the graph data."/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-143087272-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






<link rel="preload" href="/scss/main.min.c1ac849557789704f404f365d66e5664bd699a9dad24ac55a210015944584e64.css" as="style">
<link href="/scss/main.min.c1ac849557789704f404f365d66e5664bd699a9dad24ac55a210015944584e64.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>


  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo">
			<img style="max-height: 35px;" src="/images/depscloud-1.png"/>
		</span>
		<span class="text-lowercase" style="vertical-align: bottom; font-weight: bold;">
			deps.cloud
		</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/blog/" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.a21e366a4ed09538b22c45e0b6ae88607a869176211bd6eca95aced8d96bc62879da3325b23c124b631fe806684754a7c860424821e968da069648108cd9d074.json"
  data-offline-search-base-href="/"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    


<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/offline-search-index.a21e366a4ed09538b22c45e0b6ae88607a869176211bd6eca95aced8d96bc62879da3325b23c124b631fe806684754a7c860424821e968da069648108cd9d074.json"
  data-offline-search-base-href="/"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="docs">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docswhat-is-depscloud" href="/docs/what-is-depscloud/">What is deps.cloud?</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsmanifests" href="/docs/manifests/">Manifest Files</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page  active" id="m-docsarchitecture" href="/docs/architecture/">Architecture</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsdata-model" href="/docs/data-model/">Data Model</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/integrations/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Integrations</a>
  </li>
  <ul>
    <li class="collapse " id="docsintegrations">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsintegrationsgithub" href="/docs/integrations/github/">GitHub</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsintegrationsgitlab" href="/docs/integrations/gitlab/">GitLab</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsintegrationsbitbucket" href="/docs/integrations/bitbucket/">Bitbucket</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/deployment/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deployment</a>
  </li>
  <ul>
    <li class="collapse " id="docsdeployment">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsdeploymentdocker" href="/docs/deployment/docker/">Docker</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsdeploymentk8s" href="/docs/deployment/k8s/">Kubernetes</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsdeploymenthelm" href="/docs/deployment/helm/">Helm</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscli" href="/docs/cli/">Command Line</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/services/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">API Services</a>
  </li>
  <ul>
    <li class="collapse " id="docsservices">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsservicesgateway" href="/docs/services/gateway/">Gateway</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsservicesindexer" href="/docs/services/indexer/">Indexer</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsservicestracker" href="/docs/services/tracker/">Tracker</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docsservicesextractor" href="/docs/services/extractor/">Extractor</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/docs/contributing/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contributing</a>
  </li>
  <ul>
    <li class="collapse " id="docscontributing">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscontributingcode-of-conduct" href="/docs/contributing/code-of-conduct/">Code of Conduct</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscontributingcommunity" href="/docs/contributing/community/">Community</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscontributinggit" href="/docs/contributing/git/">Working with Git</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscontributingdocker" href="/docs/contributing/docker/">Developing in Docker</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-docscontributinglocal" href="/docs/contributing/local/">Developing Locally</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            






<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/depscloud/deps.cloud/edit/main/content/en/docs/architecture.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/depscloud/deps.cloud/issues/new?title=Architecture" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/depscloud/deps.cloud/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a>
      <ul>
        <li><a href="#components">Components</a></li>
      </ul>
    </li>
    <li><a href="#design-decisions">Design Decisions</a>
      <ul>
        <li><a href="#_how-should-services-communicate_"><em>How should services communicate?</em></a></li>
        <li><a href="#_how-should-the-data-be-stored_"><em>How should the data be stored?</em></a></li>
      </ul>
    </li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		







<li class="breadcrumb-item" >
	<a href="https://deps.cloud/docs/">Documentation</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://deps.cloud/docs/architecture/">Architecture</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Architecture</h1>
    
	       
	<p>This page serves as documentation of the open source architecture for the deps.cloud system.</p>
<h2 id="overview">Overview</h2>
<p><img src="/images/arch.png" alt="arch"></p>
<p>While there are several components that make up the ecosystem, each of them serve their own purpose.</p>
<h3 id="components">Components</h3>
<p><a href="https://github.com/depscloud/gateway">Gateway</a> is the face of the API services.
It provides a RESTful HTTP interface to the backing gRPC services.
See the <a href="/docs/services/gateway/">gateway docs</a> for more information.</p>
<p><a href="https://github.com/depscloud/tracker">Tracker</a> provides several APIs for navigating the graph of information.
This service leverages other storage systems such as SQLite or MySQL to store the graph data.
See the <a href="/docs/services/tracker/">tracker docs</a> for more information.</p>
<p><a href="https://github.com/depscloud/extractor">Extractor</a> is responsible for looking at different manifest files and extracting dependency information from them.
This mechanism is easily pluggable to support a large range of different manifest files.
See the <a href="/docs/services/extractor/">extractor docs</a> for more information.</p>
<p>The <a href="https://github.com/depscloud/indexer">indexer</a> is responsible for fetching repository information, cloning and crawling it, leveraging the extractor and tracker where appropriate.
See the <a href="/docs/services/indexer/">indexer docs</a> for more information.</p>
<p>The <a href="https://github.com/depscloud/cli">command line interface</a> or CLI provides end users with an easy ability to query the API.
See the <a href="/docs/cli/">CLI docs</a> for more information.</p>
<h2 id="design-decisions">Design Decisions</h2>
<p>As this system was built out, there were several key decisions that were made along the way.
In this section, I capture several of the frequently asked questions and document the rationale behind them.</p>
<h3 id="_how-should-services-communicate_"><em>How should services communicate?</em></h3>
<p>There are many different ways services can communicate.
REST and <a href="https://grpc.io">gRPC</a> are simply two of them.
While there are many options out there, there were many benefits that came along with leveraging gRPC.
This includes, but is not limited to:</p>
<ul>
<li>contractual API definitions using <a href="https://developers.google.com/protocol-buffers">Protocol Buffers</a></li>
<li>support for multi-language systems</li>
<li>built in client side load balancing and health checking</li>
</ul>
<p>In the end, I decided to leverage gRPC.
As a result, it&rsquo;s had a great impact on the ecosystem.
It allowed parts to be prototyped in one language, and rewritten when they didn&rsquo;t scale.
Adding REST support was easy with the help of the <a href="https://github.com/grpc-ecosystem/grpc-gateway">grpc-gateway</a> project.</p>
<h3 id="_how-should-the-data-be-stored_"><em>How should the data be stored?</em></h3>
<p>When you think of a dependency graph, it&rsquo;s easy to jump to the conclusion to use one of the existing <a href="https://en.wikipedia.org/wiki/Graph_database">graph databases</a> out there.
However, when working with folks in the open source community, it&rsquo;s hard to find people with prior experience on graph databases.
Most people are still more familiar with things like <a href="https://www.mysql.com/">MySQL</a> or <a href="https://www.mongodb.com/">MongoDB</a>.</p>
<p>Knowing this layer of the stack was likely to be swapped out with Company X&rsquo;s preferred store, I wanted it to be pluggable.
So the first implementation was on top of an SQL system.
From there, we were able to extract a simple service interface.
This makes it easy to swap the storage technology out for different solutions.</p>
<p>For more information on the data layer, see the <a href="/docs/data-model/">Data Model</a> documentation.</p>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/depscloud/deps.cloud/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/depscloud/deps.cloud/issues/new">tell us how we can improve</a>.
</p>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified August 2, 2020: <a  href="https://github.com/depscloud/deps.cloud/commit/9b51d0832905cf97154a148f90e75125b985c836">Update dependency autoprefixer to v9.8.6 (#51) (9b51d08)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark text-white py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing List" aria-label="User mailing List">
    <a class="text-white" target="_blank" href="https://groups.google.com/a/deps.cloud/forum/#!forum/community/join">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" href="https://join.slack.com/t/depscloud/shared_invite/zt-fd03dm8x-L5Vxh07smWr_vlK9Qg9q5A">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://twitter.com/depscloud">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
</ul>

        
        
        <div class="font-italic">for everyone</div>
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/depscloud/">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing List" aria-label="Developer mailing List">
    <a class="text-white" target="_blank" href="https://groups.google.com/a/deps.cloud/forum/#!forum/community/join">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
        <div class="font-italic">for developers</div>
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small>&copy; 2020 deps.cloud Authors All Rights Reserved</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>









<script src="/js/main.min.7afee248b9b3c1d4438c6841cc272ae0ac1f81a3ee5c0ed939f1d57c18de3f7d.js" integrity="sha256-ev7iSLmzwdRDjGhBzCcq4KwfgaPuXA7ZOfHVfBjeP30=" crossorigin="anonymous"></script>



  </body>
</html>